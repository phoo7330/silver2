<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
  <mapper namespace="com.scit.silver.dao.MessageMapper">
  <insert id="insertMessage" parameterType="message">
	INSERT INTO MESSAGE(
	    MS_SEQ,
	    USERID,
	    MS_TITLE,
	    MS_CONTENT,
	    MS_SENDER,
	    MS_DATE
	)VALUES(
	    MS_SEQ.NEXTVAL,
	    #{userid},
	    #{ms_title},  
	    #{ms_content},
	     #{ms_Sender},
	    SYSDATE
	)
 </insert>  

<select id="selectmessageAll" parameterType="int" resultType="message">
 	SELECT 
     MS_SEQ,
   	 USERID,
   	 MS_TITLE,
   	 MS_CONTENT,
     MS_SENDER,
   	 TO_CHAR(MS_DATE,'yyyy-mm-dd hh:mi:ss') MS_DATE
	FROM
   	 	MESSAGE
	WHERE
   	 	MS_SEQ=#{ms_seq}
   	ORDER BY
   		 MS_DATE DESC
</select>

	<select id="selectMesageSender" parameterType="String" resultType="message">
		SELECT 
			MS_SEQ,
		  	USERID,
		  	MS_TITLE,
		  	MS_CONTENT,
		    MS_SENDER,
		  	TO_CHAR(MS_DATE,'yyyy-mm-dd hh:mi:ss') MS_DATE
		FROM
	  	 	MESSAGE
		WHERE
	  	 	USERID=#{loginId}
	  	ORDER BY
	  		MS_DATE DESC
	</select>
	
	<select id="selectMesageReceiver" parameterType="String" resultType="message">
		SELECT 
			MS_SEQ,
		  	USERID,
		  	MS_TITLE,
		  	MS_CONTENT,
		    MS_SENDER,
		  	TO_CHAR(MS_DATE,'yyyy-mm-dd hh:mi:ss') MS_DATE
		FROM
	  	 	MESSAGE
		WHERE
	  	 	MS_SENDER=#{loginId}
	  	ORDER BY
	  		MS_DATE DESC
	</select>
  </mapper>